{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Sam\\\\Documents\\\\GitHub\\\\Capstone-Spring-2021\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\Sam\\\\Documents\\\\GitHub\\\\Capstone-Spring-2021\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";/*!\r\n\r\n=========================================================\r\n* Light Bootstrap Dashboard React - v1.3.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/import React,{Component,useState}from\"react\";import ChartistGraph from\"react-chartist\";import crown from\"assets/img/crown.png\";import{Grid,Row,Col}from\"react-bootstrap\";import ChartistTooltip from\"chartist-plugin-tooltips-updated\";import{Card,CardNoFooter}from\"components/Card/Card.jsx\";import Chartist,{plugins}from\"chartist\";import{StatsCard,MiniChartCard}from\"components/StatsCard/StatsCard.jsx\";import{Tasks}from\"components/Tasks/Tasks.jsx\";import{dataPie,legendPie// dataSales,\n,optionsSales,responsiveSales,legendSales,dataBar,optionsBar,responsiveBar,legendBar}from\"variables/Variables.jsx\";import{Formik,Form}from\"formik\";import*as Yup from\"yup\";import{ShowPopUp,SuccessPopUp,LoadingPopUp}from\"components/Modal/Modal\";import{FormControll}from\"components/Formik/FormikControl\";import{MaterialButton}from\"components/CustomButton/MaterialButton\";import{useDispatch,useSelector}from\"react-redux\";import{getDashboard,getTop10,getShareAndExchangeCompare}from\"../redux/index\";import{getDashboardUpdate}from\"redux/Selector/Selectors\";import{Box}from\"@material-ui/core\";require(\"chartist-plugin-legend\");function Dashboard(){var dispatch=useDispatch();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),dataSales=_useState2[0],setDataSales=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),top10=_useState6[0],setTop10=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),top10Account=_useState8[0],setTop10Account=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),compare=_useState10[0],setCompare=_useState10[1];React.useEffect(function(){try{var prepare=function prepare(){dispatch(getDashboard()).then(function(response){var data=response.payload.data;console.log(\"dashboard ngày 29/01 \",data);var labels=[].concat(_toConsumableArray(data.labels),[\"\"]);var tmp={labels:labels,series:data.series};setDataSales(tmp);});dispatch(getTop10(2)).then(function(res){var tmp=res.payload.data;setTop10(tmp);console.log(\"danh sách 10 rau: \",res);});dispatch(getTop10(1)).then(function(res){var tmp=res.payload.data;setTop10Account(tmp);console.log(\"danh sách 10 người: \",res);});dispatch(getShareAndExchangeCompare()).then(function(res){setCompare(res.payload.data);console.log(\"share và exchage: \",res);});setLoading(false);};prepare();}catch(error){console.log(\"Failed to fetch product list: \",error);}},[]);var updateButtonForm=useSelector(function(state){return getDashboardUpdate(state);});var options={plugins:[ChartistTooltip()]};console.log(updateButtonForm);var initialValues={updateTime:\"\"};var onSubmit=function onSubmit(values){};var dropdownOptions=[{key:\"Tháng này\",value:\"thismonth\"},{key:\"Hôm nay\",value:\"today\"},{key:\"7 ngày trước\",value:\"last7days\"}];function createLegend(json){var legend=[];for(var i=0;i<json[\"names\"].length;i++){var type=\"fa fa-circle text-\"+json[\"types\"][i];legend.push(/*#__PURE__*/React.createElement(\"i\",{className:type,key:i}));legend.push(\" \");legend.push(json[\"names\"][i]);}return legend;}var size=20;var number={color:\"white\",background:\"#63d8f1\",paddingLeft:5,paddingRight:5,marginLeft:5};var numberRed={color:\"white\",background:\"#fc727a\",paddingLeft:5,paddingRight:5,marginLeft:5};return/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(LoadingPopUp,{visible:loading,length:\"200px\"}),/*#__PURE__*/React.createElement(Grid,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Formik,{initialValues:initialValues,onSubmit:onSubmit},function(formik){return/*#__PURE__*/React.createElement(Form,null,updateButtonForm.map(function(item){item.row.cols.map(function(col){var _col$elementConfig=col.elementConfig,name=_col$elementConfig.name,type=_col$elementConfig.type,placeholder=_col$elementConfig.placeholder,labeltext=_col$elementConfig.labeltext;return/*#__PURE__*/React.createElement(FormControll,{control:\"select\",label:labeltext,name:name,options:dropdownOptions});});}));})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{id:\"chartHours\",title:\"Ho\\u1EA1t \\u0111\\u1ED9ng c\\u1EE7a ng\\u01B0\\u1EDDi  d\\xF9ng\",content:/*#__PURE__*/React.createElement(\"div\",{className:\"ct-chart\"},/*#__PURE__*/React.createElement(ChartistGraph,{data:dataSales,type:\"Line\",options:optionsSales,responsiveOptions:responsiveSales})),legend:/*#__PURE__*/React.createElement(\"div\",{className:\"legend\"},createLegend(legendSales))}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{id:\"chartActivity\",title:\"Bi\\u1EC3u \\u0111\\u1ED3 so s\\xE1nh s\\u1ED1 l\\u01B0\\u1EE3ng b\\xE0i \\u0111\\u0103ng chia s\\u1EBB v\\xE0 trao \\u0111\\u1ED5i\"// category=\"All products including Taxes\"\n,content:/*#__PURE__*/React.createElement(\"div\",{className:\"ct-chart\"},/*#__PURE__*/React.createElement(ChartistGraph,{data:compare,type:\"Bar\",options:optionsBar,responsiveOptions:responsiveBar})),legend:/*#__PURE__*/React.createElement(\"div\",{className:\"legend\"},createLegend(legendBar))}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(Card,{id:\"top10A\",title:\"Top 10 rau \\u0111\\u01B0\\u1EE3c chia s\\u1EBB nhi\\u1EC1u nh\\u1EA5t\"// category=\"All products including Taxes\"\n,content:/*#__PURE__*/React.createElement(\"div\",null,top10.map(function(item,index){if(index==0){return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\"}},/*#__PURE__*/React.createElement(\"img\",{src:crown,height:size,width:size}),/*#__PURE__*/React.createElement(\"p\",{style:number},index+1),/*#__PURE__*/React.createElement(\"p\",{style:{marginLeft:5}},item.id),/*#__PURE__*/React.createElement(\"p\",{style:{marginLeft:5,fontWeight:\"bold\"}},item.text));}else{return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\"}},/*#__PURE__*/React.createElement(Box,{height:size,width:size}),/*#__PURE__*/React.createElement(\"p\",{style:number},index+1),/*#__PURE__*/React.createElement(\"p\",{style:{marginLeft:5}},item.id),/*#__PURE__*/React.createElement(\"p\",{style:{marginLeft:5,fontWeight:\"bold\"}},item.text));}}))})),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(Card,{id:\"top10B\",title:\"Top 10 t\\xE0i kho\\u1EA3n \\u0111\\u0103ng b\\xE0i nhi\\u1EC1u nh\\u1EA5t\"// category=\"All products including Taxes\"\n,content:/*#__PURE__*/React.createElement(\"div\",null,top10Account.map(function(item,index){if(index==0){return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\"}},/*#__PURE__*/React.createElement(\"img\",{src:crown,height:size,width:size}),/*#__PURE__*/React.createElement(\"p\",{style:numberRed},index+1),/*#__PURE__*/React.createElement(\"p\",{style:{marginLeft:5}},item.id),/*#__PURE__*/React.createElement(\"p\",{style:{marginLeft:5,fontWeight:\"bold\"}},item.text));}else{return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\"}},/*#__PURE__*/React.createElement(Box,{height:size,width:size}),/*#__PURE__*/React.createElement(\"p\",{style:numberRed},index+1),/*#__PURE__*/React.createElement(\"p\",{style:{marginLeft:5}},item.id),/*#__PURE__*/React.createElement(\"p\",{style:{marginLeft:5,fontWeight:\"bold\"}},item.text));}}))})))));}export default Dashboard;","map":{"version":3,"sources":["C:/Users/Sam/Documents/GitHub/Capstone-Spring-2021/src/views/Dashboard.jsx"],"names":["React","Component","useState","ChartistGraph","crown","Grid","Row","Col","ChartistTooltip","Card","CardNoFooter","Chartist","plugins","StatsCard","MiniChartCard","Tasks","dataPie","legendPie","optionsSales","responsiveSales","legendSales","dataBar","optionsBar","responsiveBar","legendBar","Formik","Form","Yup","ShowPopUp","SuccessPopUp","LoadingPopUp","FormControll","MaterialButton","useDispatch","useSelector","getDashboard","getTop10","getShareAndExchangeCompare","getDashboardUpdate","Box","require","Dashboard","dispatch","dataSales","setDataSales","loading","setLoading","top10","setTop10","top10Account","setTop10Account","compare","setCompare","useEffect","prepare","then","response","data","payload","console","log","labels","tmp","series","res","error","updateButtonForm","state","options","initialValues","updateTime","onSubmit","values","dropdownOptions","key","value","createLegend","json","legend","i","length","type","push","size","number","color","background","paddingLeft","paddingRight","marginLeft","numberRed","formik","map","item","row","cols","col","elementConfig","name","placeholder","labeltext","index","display","flexDirection","id","fontWeight","text"],"mappings":"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","sourcesContent":["/*!\r\n\r\n=========================================================\r\n* Light Bootstrap Dashboard React - v1.3.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React, { Component, useState } from \"react\";\r\nimport ChartistGraph from \"react-chartist\";\r\nimport crown from \"assets/img/crown.png\";\r\nimport { Grid, Row, Col } from \"react-bootstrap\";\r\nimport ChartistTooltip from \"chartist-plugin-tooltips-updated\";\r\nimport { Card, CardNoFooter } from \"components/Card/Card.jsx\";\r\nimport Chartist, { plugins } from \"chartist\";\r\nimport { StatsCard, MiniChartCard } from \"components/StatsCard/StatsCard.jsx\";\r\nimport { Tasks } from \"components/Tasks/Tasks.jsx\";\r\nimport {\r\n  dataPie,\r\n  legendPie,\r\n  // dataSales,\r\n  optionsSales,\r\n  responsiveSales,\r\n  legendSales,\r\n  dataBar,\r\n  optionsBar,\r\n  responsiveBar,\r\n  legendBar,\r\n} from \"variables/Variables.jsx\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { ShowPopUp, SuccessPopUp, LoadingPopUp } from \"components/Modal/Modal\";\r\nimport { FormControll } from \"components/Formik/FormikControl\";\r\nimport { MaterialButton } from \"components/CustomButton/MaterialButton\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getDashboard,\r\n  getTop10,\r\n  getShareAndExchangeCompare,\r\n} from \"../redux/index\";\r\nimport { getDashboardUpdate } from \"redux/Selector/Selectors\";\r\nimport { Box } from \"@material-ui/core\";\r\nrequire(\"chartist-plugin-legend\");\r\n\r\nfunction Dashboard() {\r\n  const dispatch = useDispatch();\r\n  const [dataSales, setDataSales] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [top10, setTop10] = useState([]);\r\n  const [top10Account, setTop10Account] = useState([]);\r\n  const [compare, setCompare] = useState({});\r\n  React.useEffect(() => {\r\n    try {\r\n      const prepare = () => {\r\n        dispatch(getDashboard()).then((response) => {\r\n          const data = response.payload.data;\r\n          console.log(\"dashboard ngày 29/01 \", data);\r\n          const labels = [...data.labels, \"\"];\r\n          const tmp = {\r\n            labels: labels,\r\n            series: data.series,\r\n          };\r\n          setDataSales(tmp);\r\n        });\r\n        dispatch(getTop10(2)).then((res) => {\r\n          const tmp = res.payload.data;\r\n          setTop10(tmp);\r\n          console.log(\"danh sách 10 rau: \", res);\r\n        });\r\n        dispatch(getTop10(1)).then((res) => {\r\n          const tmp = res.payload.data;\r\n          setTop10Account(tmp);\r\n          console.log(\"danh sách 10 người: \", res);\r\n        });\r\n        dispatch(getShareAndExchangeCompare()).then((res) => {\r\n          setCompare(res.payload.data);\r\n          console.log(\"share và exchage: \", res);\r\n        });\r\n        setLoading(false);\r\n      };\r\n      prepare();\r\n    } catch (error) {\r\n      console.log(\"Failed to fetch product list: \", error);\r\n    }\r\n  }, []);\r\n  const updateButtonForm = useSelector((state) => getDashboardUpdate(state));\r\n  const options = {\r\n    plugins: [ChartistTooltip()],\r\n  };\r\n  console.log(updateButtonForm);\r\n  const initialValues = {\r\n    updateTime: \"\",\r\n  };\r\n  const onSubmit = (values) => {};\r\n  const dropdownOptions = [\r\n    { key: \"Tháng này\", value: \"thismonth\" },\r\n    { key: \"Hôm nay\", value: \"today\" },\r\n    { key: \"7 ngày trước\", value: \"last7days\" },\r\n  ];\r\n  function createLegend(json) {\r\n    var legend = [];\r\n    for (var i = 0; i < json[\"names\"].length; i++) {\r\n      var type = \"fa fa-circle text-\" + json[\"types\"][i];\r\n      legend.push(<i className={type} key={i} />);\r\n      legend.push(\" \");\r\n      legend.push(json[\"names\"][i]);\r\n    }\r\n    return legend;\r\n  }\r\n  const size = 20;\r\n  const number = {\r\n    color: \"white\",\r\n    background: \"#63d8f1\",\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    marginLeft: 5,\r\n  };\r\n  const numberRed = {\r\n    color: \"white\",\r\n    background: \"#fc727a\",\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    marginLeft: 5,\r\n  };\r\n  return (\r\n    <div className=\"content\">\r\n      <LoadingPopUp visible={loading} length=\"200px\" />\r\n      <Grid fluid>\r\n        <Row>\r\n          <Formik initialValues={initialValues} onSubmit={onSubmit}>\r\n            {(formik) => {\r\n              return (\r\n                <Form>\r\n                  {updateButtonForm.map((item) => {\r\n                    item.row.cols.map((col) => {\r\n                      const {\r\n                        name,\r\n                        type,\r\n                        placeholder,\r\n                        labeltext,\r\n                      } = col.elementConfig;\r\n                      return (\r\n                        <FormControll\r\n                          control={\"select\"}\r\n                          label={labeltext}\r\n                          name={name}\r\n                          options={dropdownOptions}\r\n                        />\r\n                      );\r\n                    });\r\n                  })}\r\n                </Form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </Row>\r\n        <Row>\r\n          <Col md={12}>\r\n            <Card\r\n              id=\"chartHours\"\r\n              title=\"Hoạt động của người  dùng\"\r\n              content={\r\n                <div className=\"ct-chart\">\r\n                  <ChartistGraph\r\n                    data={dataSales}\r\n                    type=\"Line\"\r\n                    options={optionsSales}\r\n                    responsiveOptions={responsiveSales}\r\n                  />\r\n                </div>\r\n              }\r\n              legend={<div className=\"legend\">{createLegend(legendSales)}</div>}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md={12}>\r\n            <Card\r\n              id=\"chartActivity\"\r\n              title=\"Biểu đồ so sánh số lượng bài đăng chia sẻ và trao đổi\"\r\n              // category=\"All products including Taxes\"\r\n              content={\r\n                <div className=\"ct-chart\">\r\n                  <ChartistGraph\r\n                    data={compare}\r\n                    type=\"Bar\"\r\n                    options={optionsBar}\r\n                    responsiveOptions={responsiveBar}\r\n                  />\r\n                </div>\r\n              }\r\n              legend={<div className=\"legend\">{createLegend(legendBar)}</div>}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md={6}>\r\n            <Card\r\n              id=\"top10A\"\r\n              title=\"Top 10 rau được chia sẻ nhiều nhất\"\r\n              // category=\"All products including Taxes\"\r\n              content={\r\n                <div>\r\n                  {top10.map((item, index) => {\r\n                    if (index == 0) {\r\n                      return (\r\n                        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                          <img src={crown} height={size} width={size} />\r\n                          <p style={number}>{index+1}</p>\r\n                          <p style={{ marginLeft: 5 }}>{item.id}</p>\r\n                          <p style={{ marginLeft: 5, fontWeight: \"bold\" }}>\r\n                            {item.text}\r\n                          </p>\r\n                        </div>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                          <Box height={size} width={size}></Box>\r\n                          <p style={number}>{index+1}</p>\r\n                          <p style={{ marginLeft: 5 }}>{item.id}</p>\r\n                          <p style={{ marginLeft: 5, fontWeight: \"bold\" }}>\r\n                            {item.text}\r\n                          </p>\r\n                        </div>\r\n                      );\r\n                    }\r\n                  })}\r\n                </div>\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6}>\r\n            <Card\r\n              id=\"top10B\"\r\n              title=\"Top 10 tài khoản đăng bài nhiều nhất\"\r\n              // category=\"All products including Taxes\"\r\n              content={\r\n                <div>\r\n                  {top10Account.map((item, index) => {\r\n                    if (index == 0) {\r\n                      return (\r\n                        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                          <img src={crown} height={size} width={size} />\r\n                          <p style={numberRed}>{index+1}</p>\r\n                          <p style={{ marginLeft: 5 }}>{item.id}</p>\r\n                          <p style={{ marginLeft: 5, fontWeight: \"bold\" }}>\r\n                            {item.text}\r\n                          </p>\r\n                        </div>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                          <Box height={size} width={size}></Box>\r\n                          <p style={numberRed}>{index+1}</p>\r\n                          <p style={{ marginLeft: 5 }}>{item.id}</p>\r\n                          <p style={{ marginLeft: 5, fontWeight: \"bold\" }}>\r\n                            {item.text}\r\n                            \r\n                          </p>\r\n                        </div>\r\n                      );\r\n                    }\r\n                  })}\r\n                </div>\r\n              }\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}