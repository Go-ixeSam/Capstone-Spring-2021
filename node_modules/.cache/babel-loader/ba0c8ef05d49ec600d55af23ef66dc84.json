{"ast":null,"code":"var _jsxFileName = \"E:\\\\light-bootstrap-dashboard-react-master\\\\src\\\\views\\\\Signin.jsx\";\nimport { Box } from \"@material-ui/core\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { FormControll } from \"components/Formik/FormikControl\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport loginReducer from \"redux/Login/LoginSlice\";\nimport { getSignInForm, getToken } from \"redux/Selector/Selectors\";\nimport * as variable from \"variables/Variables\";\nimport * as Yup from \"yup\";\nimport \"../components/SignIn/style.scss\";\nimport { getALL, getPlantInfo, login, sharingDetail } from \"redux/index\";\nimport { loginToWeb } from \"components/Hook/CustomHook\";\nimport firebase from \"util/firebase\";\nlet width = 240;\nlet marginBottom = 5;\nlet headeFontSize = 20;\nlet choseSignInTypeHeight = 30;\nlet choseSignInTypeWidth = \"80%\";\nlet startIcon = 15;\nlet chooseSignInPadding = 20;\nlet attensionPadding = 10; // * Style cho may cai nut chon loai dang nhap\n\nlet choseStyle = {\n  height: choseSignInTypeHeight,\n  padding: 0,\n  marginBottom: 10,\n  width: choseSignInTypeWidth,\n  fontSize: 12\n};\nconst initialValue = {\n  [variable.username]: \"\",\n  [variable.password]: \"\"\n};\n/**\r\n * * hàm test dùng để tạo ra 1 validation custom\r\n * * với tham số 1 là tên của cái validation này\r\n * * tham số 2 là message error\r\n * * tham số 3 là 1 function với value chính là cái data đc input\r\n */\n\nconst validationSchema = Yup.object({\n  [variable.password]: Yup.string().required([variable.require]),\n  [variable.username]: Yup.string().required([variable.require]),\n  checkpassword: Yup.string().when([variable.password], {\n    is: val => val == \"sam\" > 0 ? true : false,\n    then: Yup.string().oneOf([Yup.ref(variable.password)], \"Your password is wrong\")\n  })\n});\n\nfunction Signin() {\n  const token = useSelector(state => getToken(state));\n  const signInForm = useSelector(state => getSignInForm(state));\n  const [firebaseToken, setFirebaseToken] = React.useState(\"\");\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    //! laasy firebase token cai da\n    const messaging = firebase.messaging(); // Get registration token. Initially this makes a network call, once retrieved\n    // subsequent calls to getToken will return from cache.\n\n    messaging.getToken({\n      vapidKey: \"BNZzdzfi0VcWMVR2Ycq7z32Uw8XURgH0Bxw-G6Y0Al88vvlzQ5PzGQNtbjarbhogI5DpxshHlzwb5O-Wq4ncid0\"\n    }).then(currentToken => {\n      if (currentToken) {\n        // Send the token to your server and update the UI if necessary\n        // ...\n        setFirebaseToken(firebaseToken);\n        console.log(\"firebae token day=\", currentToken);\n      } else {\n        // Show permission request UI\n        console.log(\"No registration token available. Request permission to generate one.\"); // ...\n      }\n    }).catch(err => {\n      console.log(\"An error occurred while retrieving token. \", err); // ...\n    });\n  }, []);\n\n  const onSubmit = (value, onSubmitProps) => {\n    console.log(\"submit value: \", value); //* giá trị của submiting thì formik sẽ tự động set khi ta dùng đén fieldError, bỏi vì nó làm thay đổi đến object error nên submiting sẽ ko\n    //* chuyển thành true\n    //! Nếu như token bằng rỗng thì chứng tỏ mật khẩu sai\n\n    console.log(\"token lên web\", firebaseToken);\n    dispatch(login({\n      phoneNumber: value.username,\n      deviceToken: firebaseToken,\n      password: value.password\n    }) //* * Ở đây ta dùng .then là vì createAsyncThunk nó trả về 1 promise, nếu như ta dùng asynce await để nhận thì\n    //* sẽ vi phạm nguyên tắc hook là bỏ hook trong 1 nested function\n    //* ở dưới đang là check token trong store, nếu ta muốn sử dụng result từ .then trả về thì\n    //! .then((result)=>{ }), lúc này ta vẫn có thể sử dụng popUp loading,success và fail như ta hằng mong muốn\n    ).then(() => {\n      if (token == \"\") {\n        onSubmitProps.setFieldError([variable.password], \"Hãy kiểm tra lại mật khẩu hoặc tên đăng nhập của bạn\");\n      } else {// alert(\"Ok rồi nha\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValue,\n    validationSchema: validationSchema,\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 11\n    }\n  }, formik => {\n    return /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        paddingLeft: 15,\n        fontFamily: \"Roboto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: \"#9e9e9e\",\n        fontSize: headeFontSize\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"), /*#__PURE__*/React.createElement(Box, {\n      width: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontWeight: \"bold\",\n        fontSize: headeFontSize\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }\n    }, \"Web Admin\")), signInForm.map(rows => {\n      const columns = rows.row.cols;\n      return columns.map(column => {\n        const controlType = column.elementType;\n        const {\n          name,\n          type,\n          placeholder,\n          labeltext\n        } = column.elementConfig;\n        return /*#__PURE__*/React.createElement(FormControll, Object.assign({\n          elementType: \"input\",\n          type: type,\n          name: name,\n          placeholder: placeholder\n        }, column, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }\n        }));\n      });\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"attensin\",\n      style: {\n        visibility: \"hidden\",\n        textAlign: \"right\",\n        paddingRight: attensionPadding,\n        marginTop: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 12,\n        fontWeight: \"bold\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 21\n      }\n    }, \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 19\n      }\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"));\n  }))));\n}\n\nexport default Signin;","map":{"version":3,"sources":["E:/light-bootstrap-dashboard-react-master/src/views/Signin.jsx"],"names":["Box","grey","FormControll","Field","Form","Formik","React","useEffect","useDispatch","useSelector","loginReducer","getSignInForm","getToken","variable","Yup","getALL","getPlantInfo","login","sharingDetail","loginToWeb","firebase","width","marginBottom","headeFontSize","choseSignInTypeHeight","choseSignInTypeWidth","startIcon","chooseSignInPadding","attensionPadding","choseStyle","height","padding","fontSize","initialValue","username","password","validationSchema","object","string","required","require","checkpassword","when","is","val","then","oneOf","ref","Signin","token","state","signInForm","firebaseToken","setFirebaseToken","useState","dispatch","messaging","vapidKey","currentToken","console","log","catch","err","onSubmit","value","onSubmitProps","phoneNumber","deviceToken","setFieldError","display","flexDirection","alignItems","formik","paddingLeft","fontFamily","color","fontWeight","map","rows","columns","row","cols","column","controlType","elementType","name","type","placeholder","labeltext","elementConfig","visibility","textAlign","paddingRight","marginTop"],"mappings":";AAAA,SAASA,GAAT,QAAoB,mBAApB;AACA,SAASC,IAAT,QAAqB,0BAArB;AACA,SAASC,YAAT,QAA6B,iCAA7B;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,MAAtB,QAAoC,QAApC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,SAASC,aAAT,EAAwBC,QAAxB,QAAwC,0BAAxC;AACA,OAAO,KAAKC,QAAZ,MAA0B,qBAA1B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAO,iCAAP;AACA,SAASC,MAAT,EAAiBC,YAAjB,EAA+BC,KAA/B,EAAsCC,aAAtC,QAA2D,aAA3D;AACA,SAASC,UAAT,QAA2B,4BAA3B;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA,IAAIC,KAAK,GAAG,GAAZ;AACA,IAAIC,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,EAApB;AACA,IAAIC,qBAAqB,GAAG,EAA5B;AACA,IAAIC,oBAAoB,GAAG,KAA3B;AACA,IAAIC,SAAS,GAAG,EAAhB;AACA,IAAIC,mBAAmB,GAAG,EAA1B;AACA,IAAIC,gBAAgB,GAAG,EAAvB,C,CACA;;AACA,IAAIC,UAAU,GAAG;AACfC,EAAAA,MAAM,EAAEN,qBADO;AAEfO,EAAAA,OAAO,EAAE,CAFM;AAGfT,EAAAA,YAAY,EAAE,EAHC;AAIfD,EAAAA,KAAK,EAAEI,oBAJQ;AAKfO,EAAAA,QAAQ,EAAE;AALK,CAAjB;AAQA,MAAMC,YAAY,GAAG;AACnB,GAACpB,QAAQ,CAACqB,QAAV,GAAqB,EADF;AAEnB,GAACrB,QAAQ,CAACsB,QAAV,GAAqB;AAFF,CAArB;AAKA;;;;;;;AAOA,MAAMC,gBAAgB,GAAGtB,GAAG,CAACuB,MAAJ,CAAW;AAClC,GAACxB,QAAQ,CAACsB,QAAV,GAAqBrB,GAAG,CAACwB,MAAJ,GAAaC,QAAb,CAAsB,CAAC1B,QAAQ,CAAC2B,OAAV,CAAtB,CADa;AAElC,GAAC3B,QAAQ,CAACqB,QAAV,GAAqBpB,GAAG,CAACwB,MAAJ,GAAaC,QAAb,CAAsB,CAAC1B,QAAQ,CAAC2B,OAAV,CAAtB,CAFa;AAGlCC,EAAAA,aAAa,EAAE3B,GAAG,CAACwB,MAAJ,GAAaI,IAAb,CAAkB,CAAC7B,QAAQ,CAACsB,QAAV,CAAlB,EAAuC;AACpDQ,IAAAA,EAAE,EAAGC,GAAD,IAAUA,GAAG,IAAI,QAAQ,CAAf,GAAmB,IAAnB,GAA0B,KADY;AAEpDC,IAAAA,IAAI,EAAE/B,GAAG,CAACwB,MAAJ,GAAaQ,KAAb,CACJ,CAAChC,GAAG,CAACiC,GAAJ,CAAQlC,QAAQ,CAACsB,QAAjB,CAAD,CADI,EAEJ,wBAFI;AAF8C,GAAvC;AAHmB,CAAX,CAAzB;;AAYA,SAASa,MAAT,GAAkB;AAChB,QAAMC,KAAK,GAAGxC,WAAW,CAAEyC,KAAD,IAAWtC,QAAQ,CAACsC,KAAD,CAApB,CAAzB;AACA,QAAMC,UAAU,GAAG1C,WAAW,CAAEyC,KAAD,IAAWvC,aAAa,CAACuC,KAAD,CAAzB,CAA9B;AACA,QAAM,CAACE,aAAD,EAAeC,gBAAf,IAAiC/C,KAAK,CAACgD,QAAN,CAAe,EAAf,CAAvC;AACA,QAAMC,QAAQ,GAAG/C,WAAW,EAA5B;AACAF,EAAAA,KAAK,CAACC,SAAN,CAAgB,MAAM;AACpB;AACA,UAAMiD,SAAS,GAAGpC,QAAQ,CAACoC,SAAT,EAAlB,CAFoB,CAGpB;AACA;;AACAA,IAAAA,SAAS,CACN5C,QADH,CACY;AAAE6C,MAAAA,QAAQ,EAAE;AAAZ,KADZ,EAEGZ,IAFH,CAESa,YAAD,IAAkB;AACtB,UAAIA,YAAJ,EAAkB;AAChB;AACA;AACAL,QAAAA,gBAAgB,CAACD,aAAD,CAAhB;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCF,YAAjC;AACD,OALD,MAKO;AACL;AACAC,QAAAA,OAAO,CAACC,GAAR,CACE,sEADF,EAFK,CAKL;AACD;AACF,KAfH,EAgBGC,KAhBH,CAgBUC,GAAD,IAAS;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ,EAA0DE,GAA1D,EADc,CAEd;AACD,KAnBH;AAoBD,GAzBD,EAyBG,EAzBH;;AA0BA,QAAMC,QAAQ,GAAG,CAACC,KAAD,EAAQC,aAAR,KAA0B;AACzCN,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BI,KAA9B,EADyC,CAEzC;AACA;AAEA;;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BR,aAA5B;AACAG,IAAAA,QAAQ,CACNtC,KAAK,CAAC;AACJiD,MAAAA,WAAW,EAAEF,KAAK,CAAC9B,QADf;AAEJiC,MAAAA,WAAW,EAACf,aAFR;AAGJjB,MAAAA,QAAQ,EAAE6B,KAAK,CAAC7B;AAHZ,KAAD,CADC,CAMN;AACA;AACA;AACA;AATM,KAAR,CAUEU,IAVF,CAUO,MAAM;AACX,UAAII,KAAK,IAAI,EAAb,EAAiB;AACfgB,QAAAA,aAAa,CAACG,aAAd,CACE,CAACvD,QAAQ,CAACsB,QAAV,CADF,EAEE,sDAFF;AAID,OALD,MAKO,CACL;AACD;AACF,KAnBD;AAoBD,GA3BD;;AA4BA,sBACE;AACE,IAAA,KAAK,EAAE;AAAEkC,MAAAA,OAAO,EAAE,MAAX;AAAmBC,MAAAA,aAAa,EAAE,KAAlC;AAAyCC,MAAAA,UAAU,EAAE;AAArD,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA0KE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAEtC,YADjB;AAEE,IAAA,gBAAgB,EAAEG,gBAFpB;AAGE,IAAA,QAAQ,EAAE2B,QAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKIS,MAAD,IAAY;AACX,wBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,KAAK,EAAE;AACLH,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,aAAa,EAAE,KAFV;AAGLG,QAAAA,WAAW,EAAE,EAHR;AAILC,QAAAA,UAAU,EAAE;AAJP,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQE;AAAG,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,SAAT;AAAoB3C,QAAAA,QAAQ,EAAET;AAA9B,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCARF,eAWE,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAE,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAYE;AAAG,MAAA,KAAK,EAAE;AAAEqD,QAAAA,UAAU,EAAE,MAAd;AAAsB5C,QAAAA,QAAQ,EAAET;AAAhC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAZF,CADF,EAiBG4B,UAAU,CAAC0B,GAAX,CAAgBC,IAAD,IAAU;AACxB,YAAMC,OAAO,GAAGD,IAAI,CAACE,GAAL,CAASC,IAAzB;AACA,aAAOF,OAAO,CAACF,GAAR,CAAaK,MAAD,IAAY;AAC7B,cAAMC,WAAW,GAAGD,MAAM,CAACE,WAA3B;AACA,cAAM;AACJC,UAAAA,IADI;AAEJC,UAAAA,IAFI;AAGJC,UAAAA,WAHI;AAIJC,UAAAA;AAJI,YAKFN,MAAM,CAACO,aALX;AAMA,4BACE,oBAAC,YAAD;AACE,UAAA,WAAW,EAAC,OADd;AAEE,UAAA,IAAI,EAAEH,IAFR;AAGE,UAAA,IAAI,EAAED,IAHR;AAIE,UAAA,WAAW,EAAEE;AAJf,WAKML,MALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AASD,OAjBM,CAAP;AAkBD,KApBA,CAjBH,eAsCE;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,KAAK,EAAE;AACLQ,QAAAA,UAAU,EAAE,QADP;AAELC,QAAAA,SAAS,EAAE,OAFN;AAGLC,QAAAA,YAAY,EAAEhE,gBAHT;AAILiE,QAAAA,SAAS,EAAE;AAJN,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASE;AAAG,MAAA,KAAK,EAAE;AAAE7D,QAAAA,QAAQ,EAAE,EAAZ;AAAgB4C,QAAAA,UAAU,EAAE;AAA5B,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCATF,CAtCF,eAoDE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCApDF,CADF;AAwDD,GA9DH,CADF,CADF,CA1KF,CADF;AAiPD;;AAED,eAAe5B,MAAf","sourcesContent":["import { Box } from \"@material-ui/core\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport { FormControll } from \"components/Formik/FormikControl\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport loginReducer from \"redux/Login/LoginSlice\";\r\nimport { getSignInForm, getToken } from \"redux/Selector/Selectors\";\r\nimport * as variable from \"variables/Variables\";\r\nimport * as Yup from \"yup\";\r\nimport \"../components/SignIn/style.scss\";\r\nimport { getALL, getPlantInfo, login, sharingDetail } from \"redux/index\";\r\nimport { loginToWeb } from \"components/Hook/CustomHook\";\r\nimport firebase from \"util/firebase\";\r\n\r\nlet width = 240;\r\nlet marginBottom = 5;\r\nlet headeFontSize = 20;\r\nlet choseSignInTypeHeight = 30;\r\nlet choseSignInTypeWidth = \"80%\";\r\nlet startIcon = 15;\r\nlet chooseSignInPadding = 20;\r\nlet attensionPadding = 10;\r\n// * Style cho may cai nut chon loai dang nhap\r\nlet choseStyle = {\r\n  height: choseSignInTypeHeight,\r\n  padding: 0,\r\n  marginBottom: 10,\r\n  width: choseSignInTypeWidth,\r\n  fontSize: 12,\r\n};\r\n\r\nconst initialValue = {\r\n  [variable.username]: \"\",\r\n  [variable.password]: \"\",\r\n};\r\n\r\n/**\r\n * * hàm test dùng để tạo ra 1 validation custom\r\n * * với tham số 1 là tên của cái validation này\r\n * * tham số 2 là message error\r\n * * tham số 3 là 1 function với value chính là cái data đc input\r\n */\r\n\r\nconst validationSchema = Yup.object({\r\n  [variable.password]: Yup.string().required([variable.require]),\r\n  [variable.username]: Yup.string().required([variable.require]),\r\n  checkpassword: Yup.string().when([variable.password], {\r\n    is: (val) => (val == \"sam\" > 0 ? true : false),\r\n    then: Yup.string().oneOf(\r\n      [Yup.ref(variable.password)],\r\n      \"Your password is wrong\"\r\n    ),\r\n  }),\r\n});\r\n\r\nfunction Signin() {\r\n  const token = useSelector((state) => getToken(state));\r\n  const signInForm = useSelector((state) => getSignInForm(state));\r\n  const [firebaseToken,setFirebaseToken]=React.useState(\"\")\r\n  const dispatch = useDispatch();\r\n  React.useEffect(() => {\r\n    //! laasy firebase token cai da\r\n    const messaging = firebase.messaging();\r\n    // Get registration token. Initially this makes a network call, once retrieved\r\n    // subsequent calls to getToken will return from cache.\r\n    messaging\r\n      .getToken({ vapidKey: \"BNZzdzfi0VcWMVR2Ycq7z32Uw8XURgH0Bxw-G6Y0Al88vvlzQ5PzGQNtbjarbhogI5DpxshHlzwb5O-Wq4ncid0\" })\r\n      .then((currentToken) => {\r\n        if (currentToken) {\r\n          // Send the token to your server and update the UI if necessary\r\n          // ...\r\n          setFirebaseToken(firebaseToken)\r\n          console.log(\"firebae token day=\",currentToken)\r\n        } else {\r\n          // Show permission request UI\r\n          console.log(\r\n            \"No registration token available. Request permission to generate one.\"\r\n          );\r\n          // ...\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"An error occurred while retrieving token. \", err);\r\n        // ...\r\n      });\r\n  }, []);\r\n  const onSubmit = (value, onSubmitProps) => {\r\n    console.log(\"submit value: \", value);\r\n    //* giá trị của submiting thì formik sẽ tự động set khi ta dùng đén fieldError, bỏi vì nó làm thay đổi đến object error nên submiting sẽ ko\r\n    //* chuyển thành true\r\n\r\n    //! Nếu như token bằng rỗng thì chứng tỏ mật khẩu sai\r\n    console.log(\"token lên web\",firebaseToken)\r\n    dispatch(\r\n      login({\r\n        phoneNumber: value.username,\r\n        deviceToken:firebaseToken,\r\n        password: value.password,\r\n      })\r\n      //* * Ở đây ta dùng .then là vì createAsyncThunk nó trả về 1 promise, nếu như ta dùng asynce await để nhận thì\r\n      //* sẽ vi phạm nguyên tắc hook là bỏ hook trong 1 nested function\r\n      //* ở dưới đang là check token trong store, nếu ta muốn sử dụng result từ .then trả về thì\r\n      //! .then((result)=>{ }), lúc này ta vẫn có thể sử dụng popUp loading,success và fail như ta hằng mong muốn\r\n    ).then(() => {\r\n      if (token == \"\") {\r\n        onSubmitProps.setFieldError(\r\n          [variable.password],\r\n          \"Hãy kiểm tra lại mật khẩu hoặc tên đăng nhập của bạn\"\r\n        );\r\n      } else {\r\n        // alert(\"Ok rồi nha\");\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <div\r\n      style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}\r\n    >\r\n      {/* <div className=\"login-page\">\r\n        <div className=\"form\">\r\n          <Button\r\n            style={{\r\n              height: choseSignInTypeHeight,\r\n              padding: chooseSignInPadding,\r\n              marginBottom: 10,\r\n              width: choseSignInTypeWidth,\r\n              fontSize: 12,\r\n            }}\r\n            type=\"submit\"\r\n            startIcon={\r\n              <FontAwesomeIcon\r\n                icon={faUser}\r\n                width={startIcon}\r\n                height={startIcon}\r\n              />\r\n            }\r\n          >\r\n            Tên và mật khẩu\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            style={{\r\n              height: choseSignInTypeHeight,\r\n              padding: chooseSignInPadding,\r\n              marginBottom: 10,\r\n              width: choseSignInTypeWidth,\r\n              fontSize: 12,\r\n              backgroundColor: \"#e82e1e\",\r\n            }}\r\n            startIcon={\r\n              <FontAwesomeIcon\r\n                icon={faGoogle}\r\n                width={startIcon}\r\n                height={startIcon}\r\n              />\r\n            }\r\n          >\r\n            Google\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            style={{\r\n              height: choseSignInTypeHeight,\r\n              padding: chooseSignInPadding,\r\n              marginBottom: 10,\r\n              width: choseSignInTypeWidth,\r\n              fontSize: 12,\r\n              backgroundColor: \"#c57a09\",\r\n            }}\r\n            startIcon={\r\n              <FontAwesomeIcon\r\n                icon={faPhoneAlt}\r\n                width={startIcon}\r\n                height={startIcon}\r\n              />\r\n            }\r\n          >\r\n            Số điện thoại\r\n          </Button>\r\n        </div>\r\n      </div> */}\r\n      {/* <div style={{ fontSize: 25 }}>- -</div> */}\r\n\r\n      {/* ! Phần div dùng để thay đổi mật khẩu */}\r\n\r\n      {/* <div className=\"login-page\">\r\n        <div className=\"form\">\r\n          <form className=\"login-form\" onSubmit={(e) => handleSubmit(e)}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                paddingLeft: 15,\r\n                fontFamily: \"Roboto\",\r\n              }}\r\n            >\r\n              <p style={{ color: \"grey\", fontSize: headeFontSize }}>\r\n                Thay đổi mật khẩu\r\n              </p>\r\n            </div>\r\n            <TextField\r\n              style={{ width: width, marginBottom: marginBottom }}\r\n              type=\"text\"\r\n              variant=\"standard\"\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              // onChange={(event) => this.handleChange(event)}\r\n            />\r\n            <div\r\n              className=\"attensin\"\r\n              style={{ textAlign: \"left\", paddingLeft: attensionPadding }}\r\n            >\r\n              <p style={{ fontSize: 12, fontWeight: \"bold\" }}>\r\n                Lưu ý: Mail sẽ đến trong vòng 5 phút\r\n              </p>\r\n            </div>\r\n            <button type=\"submit\" className=\"button\">\r\n              <p>\r\n                <a href=\"#resend\">Gửi yêu cầu</a>\r\n              </p>\r\n            </button>{\" \"}\r\n            <div\r\n              style={{\r\n                textAlign: \"center\",\r\n                color: \"#bb8322\",\r\n                paddingLeft: 10,\r\n                margin: \"5px 5px 15px 0\",\r\n              }}\r\n            >\r\n              <p id=\"resend\">Gửi lại yêu cầu trong {chooseSignInPadding}s</p>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"login-page\">\r\n        <div className=\"form\">\r\n          <form className=\"login-form\" onSubmit={(e) => handleSubmit(e)}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                paddingLeft: 15,\r\n                fontFamily: \"Roboto\",\r\n              }}\r\n            >\r\n              <p style={{ color: \"grey\", fontSize: headeFontSize }}>\r\n                Mật khẩu mới\r\n              </p>\r\n            </div>\r\n            <TextField\r\n              size=\"medium\"\r\n              style={{ marginBottom: marginBottom }}\r\n              type=\"text\"\r\n              variant=\"outlined\"\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              // onChange={(event) => this.handleChange(event)}\r\n            />\r\n            <div\r\n              className=\"attensin\"\r\n              style={{ textAlign: \"left\", paddingLeft: attensionPadding }}\r\n            >\r\n              <p style={{ fontSize: 12, fontWeight: \"bold\" }}>\r\n                Lưu ý: Mail sẽ đến trong vòng 5 phút\r\n              </p>\r\n            </div>\r\n            <button type=\"submit\" className=\"button\">\r\n              <p>\r\n                <a href=\"#resend\">Gửi yêu cầu</a>\r\n              </p>\r\n            </button>{\" \"}\r\n            <div\r\n              style={{\r\n                textAlign: \"center\",\r\n                color: \"#bb8322\",\r\n                paddingLeft: 10,\r\n                margin: \"5px 5px 15px 0\",\r\n              }}\r\n            >\r\n              <p id=\"resend\">Gửi lại yêu cầu trong {chooseSignInPadding}s</p>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div> */}\r\n      <div className=\"login-page\">\r\n        <div className=\"form\">\r\n          <Formik\r\n            initialValues={initialValue}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmit}\r\n          >\r\n            {(formik) => {\r\n              return (\r\n                <Form>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"row\",\r\n                      paddingLeft: 15,\r\n                      fontFamily: \"Roboto\",\r\n                    }}\r\n                  >\r\n                    <p style={{ color: \"#9e9e9e\", fontSize: headeFontSize }}>\r\n                      Đăng nhập\r\n                    </p>\r\n                    <Box width={5} />\r\n                    <p style={{ fontWeight: \"bold\", fontSize: headeFontSize }}>\r\n                      Web Admin\r\n                    </p>\r\n                  </div>\r\n                  {signInForm.map((rows) => {\r\n                    const columns = rows.row.cols;\r\n                    return columns.map((column) => {\r\n                      const controlType = column.elementType;\r\n                      const {\r\n                        name,\r\n                        type,\r\n                        placeholder,\r\n                        labeltext,\r\n                      } = column.elementConfig;\r\n                      return (\r\n                        <FormControll\r\n                          elementType=\"input\"\r\n                          type={type}\r\n                          name={name}\r\n                          placeholder={placeholder}\r\n                          {...column}\r\n                        />\r\n                      );\r\n                    });\r\n                  })}\r\n                  <div\r\n                    className=\"attensin\"\r\n                    style={{\r\n                      visibility: \"hidden\",\r\n                      textAlign: \"right\",\r\n                      paddingRight: attensionPadding,\r\n                      marginTop: 5,\r\n                    }}\r\n                  >\r\n                    <p style={{ fontSize: 12, fontWeight: \"bold\" }}>\r\n                      Quên mật khẩu?\r\n                    </p>\r\n                  </div>\r\n                  {/* {console.log(\"formik valid value\", formik)} */}\r\n                  <button type=\"submit\">Đăng nhập</button>\r\n                </Form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signin;\r\n"]},"metadata":{},"sourceType":"module"}