{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sam\\\\Documents\\\\GitHub\\\\Capstone-Spring-2021\\\\src\\\\views\\\\Wikipedia.jsx\";\nimport React from \"react\";\nimport { useForceUpdate } from \"use-force-update-hook\";\n\nfunction Wikipedia() {\n  // constructor(props) {\n  //     super(props);\n  //     this.state = {\n  //       wikiSearchReturnValues: [],\n  //       wikiSearchTerms: ''\n  //     }\n  //   }\n  const [wikiSearchReturnValues, setWikiSearchReturnValues] = React.useState([]);\n  const [wikiSearchTerms, setWikiSearchTerms] = React.useState(\"\");\n  const forceUpdate = useForceUpdate();\n\n  const useWikiSearchEngine = e => {\n    e.preventDefault(); // this.setState({\n    //   wikiSearchReturnValues: []\n    // });\n\n    setWikiSearchReturnValues([]); // const pointerToThis = this;\n\n    var url = \"https://en.wikipedia.org/w/api.php\";\n    var params = {\n      action: \"query\",\n      list: \"search\",\n      srsearch: wikiSearchTerms,\n      format: \"json\"\n    };\n    url = url + \"?origin=*\";\n    Object.keys(params).forEach(key => {\n      url += \"&\" + key + \"=\" + params[key];\n    });\n    fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      // console.log(response);\n      for (var key in response.query.search) {\n        wikiSearchReturnValues.push({\n          queryResultPageFullURL: \"no link\",\n          queryResultPageID: response.query.search[key].pageid,\n          queryResultPageTitle: response.query.search[key].title,\n          queryResultPageSnippet: response.query.search[key].snippet\n        });\n      }\n    }).then(function (response) {\n      for (var key2 in wikiSearchReturnValues) {\n        // console.log(pointerToThis.state.wikiSearchReturnValues);\n        // let page = pointerToThis.state.wikiSearchReturnValues[key2];\n        let page = wikiSearchReturnValues[key2];\n        let pageID = page.queryResultPageID;\n        let urlForRetrievingPageURLByPageID = `https://en.wikipedia.org/w/api.php?origin=*&action=query&prop=info&pageids=${pageID}&inprop=url&format=json`;\n        fetch(urlForRetrievingPageURLByPageID).then(function (response) {\n          return response.json();\n        }).then(function (response) {\n          page.queryResultPageFullURL = response.query.pages[pageID].fullurl; //   pointerToThis.forceUpdate();\n\n          forceUpdate();\n        });\n      }\n    });\n  };\n\n  const changeWikiSearchTerms = e => {\n    // this.setState({\n    //   WikiSearchTerms: e.target.value,\n    // });\n    setWikiSearchTerms(e.target.value);\n  };\n\n  let wikiSearchResults = []; // console.log(this.state.wikiSearchReturnValues);\n\n  for (var key3 in wikiSearchReturnValues) {\n    wikiSearchResults.push( /*#__PURE__*/React.createElement(\"div\", {\n      className: \"searchResultDiv\",\n      key: key3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: wikiSearchReturnValues[key3].queryResultPageFullURL,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, wikiSearchReturnValues[key3].queryResultPageTitle)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"description\",\n      dangerouslySetInnerHTML: {\n        __html: wikiSearchReturnValues[key3].queryResultPageSnippet\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    })));\n  }\n\n  console.log(wikiSearchResults);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, \"Wikipedia Search Engine\"), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: wikiSearchTerms || \"\",\n    onChange: this.changeWikiSearchTerms,\n    placeholder: \"Search Wikipedia Articles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: this.useWikiSearchEngine,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"Search\")), wikiSearchResults);\n}\n\nexport default Wikipedia;","map":{"version":3,"sources":["C:/Users/Sam/Documents/GitHub/Capstone-Spring-2021/src/views/Wikipedia.jsx"],"names":["React","useForceUpdate","Wikipedia","wikiSearchReturnValues","setWikiSearchReturnValues","useState","wikiSearchTerms","setWikiSearchTerms","forceUpdate","useWikiSearchEngine","e","preventDefault","url","params","action","list","srsearch","format","Object","keys","forEach","key","fetch","then","response","json","query","search","push","queryResultPageFullURL","queryResultPageID","pageid","queryResultPageTitle","title","queryResultPageSnippet","snippet","key2","page","pageID","urlForRetrievingPageURLByPageID","pages","fullurl","changeWikiSearchTerms","target","value","wikiSearchResults","key3","__html","console","log"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useForceUpdate } from \"use-force-update-hook\";\r\n\r\nfunction Wikipedia() {\r\n  // constructor(props) {\r\n  //     super(props);\r\n  //     this.state = {\r\n  //       wikiSearchReturnValues: [],\r\n  //       wikiSearchTerms: ''\r\n  //     }\r\n  //   }\r\n  const [wikiSearchReturnValues, setWikiSearchReturnValues] = React.useState(\r\n    []\r\n  );\r\n  const [wikiSearchTerms, setWikiSearchTerms] = React.useState(\"\");\r\n  const forceUpdate = useForceUpdate();\r\n const useWikiSearchEngine = (e) => {\r\n    e.preventDefault();\r\n\r\n    // this.setState({\r\n    //   wikiSearchReturnValues: []\r\n    // });\r\n    setWikiSearchReturnValues([]);\r\n\r\n    // const pointerToThis = this;\r\n\r\n    var url = \"https://en.wikipedia.org/w/api.php\";\r\n\r\n    var params = {\r\n      action: \"query\",\r\n      list: \"search\",\r\n      srsearch: wikiSearchTerms,\r\n      format: \"json\",\r\n    };\r\n\r\n    url = url + \"?origin=*\";\r\n    Object.keys(params).forEach((key) => {\r\n      url += \"&\" + key + \"=\" + params[key];\r\n    });\r\n\r\n    fetch(url)\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(function (response) {\r\n        // console.log(response);\r\n\r\n        for (var key in response.query.search) {\r\n          wikiSearchReturnValues.push({\r\n            queryResultPageFullURL: \"no link\",\r\n            queryResultPageID: response.query.search[key].pageid,\r\n            queryResultPageTitle: response.query.search[key].title,\r\n            queryResultPageSnippet: response.query.search[key].snippet,\r\n          });\r\n        }\r\n      })\r\n      .then(function (response) {\r\n        for (var key2 in wikiSearchReturnValues) {\r\n          // console.log(pointerToThis.state.wikiSearchReturnValues);\r\n          // let page = pointerToThis.state.wikiSearchReturnValues[key2];\r\n          let page = wikiSearchReturnValues[key2];\r\n          let pageID = page.queryResultPageID;\r\n          let urlForRetrievingPageURLByPageID = `https://en.wikipedia.org/w/api.php?origin=*&action=query&prop=info&pageids=${pageID}&inprop=url&format=json`;\r\n\r\n          fetch(urlForRetrievingPageURLByPageID)\r\n            .then(function (response) {\r\n              return response.json();\r\n            })\r\n            .then(function (response) {\r\n              page.queryResultPageFullURL =\r\n                response.query.pages[pageID].fullurl;\r\n\r\n              //   pointerToThis.forceUpdate();\r\n              forceUpdate();\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  const changeWikiSearchTerms = (e) => {\r\n    // this.setState({\r\n    //   WikiSearchTerms: e.target.value,\r\n    // });\r\n    setWikiSearchTerms(e.target.value)\r\n  };\r\n\r\n  let wikiSearchResults = [];\r\n  // console.log(this.state.wikiSearchReturnValues);\r\n\r\n  for (var key3 in wikiSearchReturnValues) {\r\n    wikiSearchResults.push(\r\n      <div className=\"searchResultDiv\" key={key3}>\r\n        <h3>\r\n          <a href={wikiSearchReturnValues[key3].queryResultPageFullURL}>\r\n            {wikiSearchReturnValues[key3].queryResultPageTitle}\r\n          </a>\r\n        </h3>\r\n        {/* <span className='link'><a href={.wikiSearchReturnValues[key3].queryResultPageFullURL}>{this.state.wikiSearchReturnValues[key3].queryResultPageFullURL}</a></span> */}\r\n        <p\r\n          className=\"description\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: wikiSearchReturnValues[key3].queryResultPageSnippet,\r\n          }}\r\n        ></p>\r\n      </div>\r\n    );\r\n  }\r\n  console.log(wikiSearchResults);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Wikipedia Search Engine</h1>\r\n      <form action=\"\">\r\n        <input\r\n          type=\"text\"\r\n          value={wikiSearchTerms || \"\"}\r\n          onChange={this.changeWikiSearchTerms}\r\n          placeholder=\"Search Wikipedia Articles\"\r\n        />\r\n        <button type=\"submit\" onClick={this.useWikiSearchEngine}>\r\n          Search\r\n        </button>\r\n      </form>\r\n      {wikiSearchResults}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Wikipedia;\r\n"]},"metadata":{},"sourceType":"module"}