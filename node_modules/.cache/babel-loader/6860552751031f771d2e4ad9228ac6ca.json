{"ast":null,"code":"import _objectSpread from\"E:\\\\light-bootstrap-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:\\\\light-bootstrap-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";/*!\n\n=========================================================\n* Light Bootstrap Dashboard React - v1.3.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/import imageSide from\"assets/img/garden.jpg\";import Footer from\"components/Footer/Footer\";import AdminNavbar from\"components/Navbars/AdminNavbar\";import Sidebar from\"components/Sidebar/Sidebar\";import React,{useRef,useState}from\"react\";import NotificationSystem from\"react-notification-system\";import{useDispatch,useSelector}from\"react-redux\";import{Route,Switch,useHistory,useLocation}from\"react-router-dom\";import{addObject}from\"redux/index\";import{getFirebase}from\"redux/Selector/Selectors\";import routes from\"routes.js\";import firebase from\"util/firebase\";import{style}from\"variables/Variables.jsx\";var Admin=function Admin(props){var _useState=useState(imageSide),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(\"black\"),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),hasImage=_useState6[0],setHasImage=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),isNotify=_useState8[0],setIsNotify=_useState8[1];// ! cái này dùng để ngăn cho việc notification nổ lần đầu tiên khi hàng của store đc thêm vào lần đầu tiên\nvar _useState9=useState(\"dropdown show-dropdown open\"),_useState10=_slicedToArray(_useState9,2),fixedClasses=_useState10[0],setFixedClasses=_useState10[1];var history=useHistory();var location=useLocation();var mainPanel=useRef();var notify=useRef();var dataInFirebase=useSelector(function(state){return getFirebase(state);});var dispatch=useDispatch();//! Hàm này có tác dụng là tạo ra một notification, ta sẽ dùng hàm này cứ mỗi khi firebase bắt\n//! sự kiện\nvar addNotify=function addNotify(){var color=Math.floor(Math.random()*4+1);var level;var notification=notify.current;switch(color){case 1:level=\"success\";break;case 2:level=\"warning\";break;case 3:level=\"error\";break;case 4:level=\"info\";break;default:break;}notification.addNotification({title:/*#__PURE__*/React.createElement(\"span\",{\"data-notify\":\"icon\",className:\"pe-7s-gift\"}),message:/*#__PURE__*/React.createElement(\"div\",null,\"Welcome to \",/*#__PURE__*/React.createElement(\"b\",null,\"Light Bootstrap Dashboard\"),\" - a beautiful freebie for every web developer.\"),level:level,position:\"tr\",autoDismiss:15});};// handleNotificationClick = (position) => {\n//   var color = Math.floor(Math.random() * 4 + 1);\n//   var level;\n//   switch (color) {\n//     case 1:\n//       level = \"success\";\n//       break;\n//     case 2:\n//       level = \"warning\";\n//       break;\n//     case 3:\n//       level = \"error\";\n//       break;\n//     case 4:\n//       level = \"info\";\n//       break;\n//     default:\n//       break;\n//   }\n//   this.state._notificationSystem.addNotification({\n//     title: <span data-notify=\"icon\" className=\"pe-7s-gift\" />,\n//     message: (\n//       <div>\n//         Welcome to <b>Light Bootstrap Dashboard</b> - a beautiful freebie for\n//         every web developer.\n//       </div>\n//     ),\n//     level: level,\n//     position: position,\n//     autoDismiss: 15,\n//   });\n// };\nvar getRoutes=function getRoutes(routes){return routes.map(function(prop,key){if(prop.layout===\"/admin\"){return/*#__PURE__*/React.createElement(Route,{path:prop.layout+prop.path,render:function render(props){return/*#__PURE__*/React.createElement(prop.component,props);},key:key});}else{return null;}});};var getBrandText=function getBrandText(path){for(var i=0;i<routes.length;i++){if(props.location.pathname.indexOf(routes[i].layout+routes[i].path)!==-1){return routes[i].name;}}return\"Brand\";};var handleImageClick=function handleImageClick(image){setImage(image);};var handleColorClick=function handleColorClick(color){setColor(color);};var handleHasImage=function handleHasImage(hasImage){setHasImage(hasImage);};var handleFixedClick=function handleFixedClick(){if(fixedClasses===\"dropdown\"){setFixedClasses(\"dropdown show-dropdown open\");}else{setFixedClasses(\"dropdown\");}};React.useEffect(function(){console.log(\"arrr= \",dataInFirebase.firebaseData);firebaseListening();return function(){removeFirebaseListening();};},[]);React.useEffect(function(){//! setIsNotify dùng để ngăn cho ko hiện notification khi lần đầu event listener đc nổ\nsetIsNotify(isNotify+1);if(dataInFirebase.firebaseData.length!=0&&isNotify>=2){addNotify();}/**\n     * * Sẽ có thêm phần chức năng là hiển thị số post cần phải duyệt,\n     * * mỗi post sẽ có trạng thái là duyệt và chưa duyệt, những cái chưa duyệt sẽ đc đưa vào list chưa duyệt và hiển thị\n     * * số sẽ trừ dần mỗi khi duyệt xong và bài post cũng sẽ biến mất hoàn toàn khỏi list hiển thị\n     */},[dataInFirebase]);React.useEffect(function(){if(window.innerWidth<993&&history.location.pathname!==location.pathname&&document.documentElement.className.indexOf(\"nav-open\")!==-1){document.documentElement.classList.toggle(\"nav-open\");}if(history.action===\"PUSH\"){document.documentElement.scrollTop=0;document.scrollingElement.scrollTop=0;mainPanel.scrollTop=0;}},[mainPanel]);// ! Lắng nghe sự thay đổi của database trên firebase\nvar firebaseListening=function firebaseListening(params){var userCount=firebase.database().ref(\"users\");userCount.on(\"value\",function(snapshot){var newArr=[];// ? Vì snapshot sẽ chỉ trả về các obj nên ta muốn nó thành 1 array ta phải làm bằng tay, chi tiết thế nào thì coi trong quick note\nsnapshot.forEach(function(child){// console.log(\"child nè= \", child.val());\n//chỉ bỏ những node child nào có status là no, tức là chưa đc duyệt\nif(child.val()[\"status\"]==\"not\"){newArr.push(_objectSpread(_objectSpread({},child.val()),{},{userId:child.key}));}});dispatch(addObject(newArr));});};//! bỏ lắng nghe khi cái component này unmount\nfunction removeFirebaseListening(params){firebase.database().ref(\"user\").off(\"value\");}return/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(NotificationSystem,{ref:notify,style:style}),/*#__PURE__*/React.createElement(Sidebar,Object.assign({},props,{routes:routes,image:image,color:color,hasImage:hasImage})),/*#__PURE__*/React.createElement(\"div\",{id:\"main-panel\",className:\"main-panel\",ref:mainPanel},/*#__PURE__*/React.createElement(AdminNavbar,Object.assign({},props,{brandText:getBrandText(props.location.pathname)})),/*#__PURE__*/React.createElement(Switch,null,getRoutes(routes)),/*#__PURE__*/React.createElement(Footer,null)));};export default Admin;","map":{"version":3,"sources":["E:/light-bootstrap-dashboard-react-master/src/layouts/Admin.jsx"],"names":["imageSide","Footer","AdminNavbar","Sidebar","React","useRef","useState","NotificationSystem","useDispatch","useSelector","Route","Switch","useHistory","useLocation","addObject","getFirebase","routes","firebase","style","Admin","props","image","setImage","color","setColor","hasImage","setHasImage","isNotify","setIsNotify","fixedClasses","setFixedClasses","history","location","mainPanel","notify","dataInFirebase","state","dispatch","addNotify","Math","floor","random","level","notification","current","addNotification","title","message","position","autoDismiss","getRoutes","map","prop","key","layout","path","getBrandText","i","length","pathname","indexOf","name","handleImageClick","handleColorClick","handleHasImage","handleFixedClick","useEffect","console","log","firebaseData","firebaseListening","removeFirebaseListening","window","innerWidth","document","documentElement","className","classList","toggle","action","scrollTop","scrollingElement","params","userCount","database","ref","on","snapshot","newArr","forEach","child","val","push","userId","off"],"mappings":"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","sourcesContent":["/*!\n\n=========================================================\n* Light Bootstrap Dashboard React - v1.3.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport imageSide from \"assets/img/garden.jpg\";\nimport Footer from \"components/Footer/Footer\";\nimport AdminNavbar from \"components/Navbars/AdminNavbar\";\nimport Sidebar from \"components/Sidebar/Sidebar\";\nimport React, { useRef, useState } from \"react\";\nimport NotificationSystem from \"react-notification-system\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\nimport { addObject } from \"redux/index\";\nimport { getFirebase } from \"redux/Selector/Selectors\";\nimport routes from \"routes.js\";\nimport firebase from \"util/firebase\";\nimport { style } from \"variables/Variables.jsx\";\n\nconst Admin = (props) => {\n  const [image, setImage] = useState(imageSide);\n  const [color, setColor] = useState(\"black\");\n  const [hasImage, setHasImage] = useState(true);\n  const [isNotify, setIsNotify] = useState(0); // ! cái này dùng để ngăn cho việc notification nổ lần đầu tiên khi hàng của store đc thêm vào lần đầu tiên\n  const [fixedClasses, setFixedClasses] = useState(\n    \"dropdown show-dropdown open\"\n  );\n  let history = useHistory();\n  let location = useLocation();\n  const mainPanel = useRef();\n  const notify = useRef();\n  const dataInFirebase = useSelector((state) => getFirebase(state));\n  const dispatch = useDispatch();\n\n  //! Hàm này có tác dụng là tạo ra một notification, ta sẽ dùng hàm này cứ mỗi khi firebase bắt\n  //! sự kiện\n  const addNotify = () => {\n    var color = Math.floor(Math.random() * 4 + 1);\n    var level;\n    const notification = notify.current;\n    switch (color) {\n      case 1:\n        level = \"success\";\n        break;\n      case 2:\n        level = \"warning\";\n        break;\n      case 3:\n        level = \"error\";\n        break;\n      case 4:\n        level = \"info\";\n        break;\n      default:\n        break;\n    }\n    notification.addNotification({\n      title: <span data-notify=\"icon\" className=\"pe-7s-gift\" />,\n      message: (\n        <div>\n          Welcome to <b>Light Bootstrap Dashboard</b> - a beautiful freebie for\n          every web developer.\n        </div>\n      ),\n      level: level,\n      position: \"tr\",\n      autoDismiss: 15,\n    });\n  };\n\n  // handleNotificationClick = (position) => {\n  //   var color = Math.floor(Math.random() * 4 + 1);\n  //   var level;\n  //   switch (color) {\n  //     case 1:\n  //       level = \"success\";\n  //       break;\n  //     case 2:\n  //       level = \"warning\";\n  //       break;\n  //     case 3:\n  //       level = \"error\";\n  //       break;\n  //     case 4:\n  //       level = \"info\";\n  //       break;\n  //     default:\n  //       break;\n  //   }\n  //   this.state._notificationSystem.addNotification({\n  //     title: <span data-notify=\"icon\" className=\"pe-7s-gift\" />,\n  //     message: (\n  //       <div>\n  //         Welcome to <b>Light Bootstrap Dashboard</b> - a beautiful freebie for\n  //         every web developer.\n  //       </div>\n  //     ),\n  //     level: level,\n  //     position: position,\n  //     autoDismiss: 15,\n  //   });\n  // };\n  const getRoutes = (routes) => {\n    return routes.map((prop, key) => {\n      if (prop.layout === \"/admin\") {\n        return (\n          <Route\n            path={prop.layout + prop.path}\n            render={(props) => (\n              <prop.component\n                {...props}\n                // handleClick={handleNotificationClick}\n              />\n            )}\n            key={key}\n          />\n        );\n      } else {\n        return null;\n      }\n    });\n  };\n  const getBrandText = (path) => {\n    for (let i = 0; i < routes.length; i++) {\n      if (\n        props.location.pathname.indexOf(routes[i].layout + routes[i].path) !==\n        -1\n      ) {\n        return routes[i].name;\n      }\n    }\n    return \"Brand\";\n  };\n  const handleImageClick = (image) => {\n    setImage(image);\n  };\n  const handleColorClick = (color) => {\n    setColor(color);\n  };\n  const handleHasImage = (hasImage) => {\n    setHasImage(hasImage);\n  };\n  const handleFixedClick = () => {\n    if (fixedClasses === \"dropdown\") {\n      setFixedClasses(\"dropdown show-dropdown open\");\n    } else {\n      setFixedClasses(\"dropdown\");\n    }\n  };\n\n  React.useEffect(() => {\n    console.log(\"arrr= \", dataInFirebase.firebaseData);\n    firebaseListening();\n    return () => {\n      removeFirebaseListening();\n    };\n  }, []);\n\n  React.useEffect(() => {\n    //! setIsNotify dùng để ngăn cho ko hiện notification khi lần đầu event listener đc nổ\n    setIsNotify(isNotify + 1);\n\n    if (dataInFirebase.firebaseData.length != 0 && isNotify >= 2) {\n      addNotify();\n    }\n\n    /**\n     * * Sẽ có thêm phần chức năng là hiển thị số post cần phải duyệt,\n     * * mỗi post sẽ có trạng thái là duyệt và chưa duyệt, những cái chưa duyệt sẽ đc đưa vào list chưa duyệt và hiển thị\n     * * số sẽ trừ dần mỗi khi duyệt xong và bài post cũng sẽ biến mất hoàn toàn khỏi list hiển thị\n     */\n  }, [dataInFirebase]);\n\n  React.useEffect(() => {\n    if (\n      window.innerWidth < 993 &&\n      history.location.pathname !== location.pathname &&\n      document.documentElement.className.indexOf(\"nav-open\") !== -1\n    ) {\n      document.documentElement.classList.toggle(\"nav-open\");\n    }\n    if (history.action === \"PUSH\") {\n      document.documentElement.scrollTop = 0;\n      document.scrollingElement.scrollTop = 0;\n      mainPanel.scrollTop = 0;\n    }\n  }, [mainPanel]);\n\n  // ! Lắng nghe sự thay đổi của database trên firebase\n  const firebaseListening = (params) => {\n    var userCount = firebase.database().ref(\"users\");\n    userCount.on(\"value\", (snapshot) => {\n      let newArr = [];\n      // ? Vì snapshot sẽ chỉ trả về các obj nên ta muốn nó thành 1 array ta phải làm bằng tay, chi tiết thế nào thì coi trong quick note\n      snapshot.forEach((child) => {\n        // console.log(\"child nè= \", child.val());\n\n        //chỉ bỏ những node child nào có status là no, tức là chưa đc duyệt\n        if (child.val()[\"status\"] == \"not\") {\n          newArr.push({ ...child.val(), userId: child.key });\n        }\n      });\n      dispatch(addObject(newArr));\n    });\n  };\n\n  //! bỏ lắng nghe khi cái component này unmount\n  function removeFirebaseListening(params) {\n    firebase.database().ref(\"user\").off(\"value\");\n  }\n  return (\n    <div className=\"wrapper\">\n      <NotificationSystem ref={notify} style={style} />\n      <Sidebar\n        {...props}\n        routes={routes}\n        image={image}\n        color={color}\n        hasImage={hasImage}\n      />\n      <div id=\"main-panel\" className=\"main-panel\" ref={mainPanel}>\n        <AdminNavbar\n          {...props}\n          brandText={getBrandText(props.location.pathname)}\n        />\n        <Switch>{getRoutes(routes)}</Switch>\n        <Footer />\n      </div>\n    </div>\n  );\n};\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}