{"ast":null,"code":"// import ContractType from \"./contractType\";\nimport * as variable from \"../../variables/Variables\";\nimport JSONPLACEHOLDERApi from \"api/JSONPLACEHOLDERApi\";\nimport { createPostData, convertDateToString, createAccountData, createHeader } from \"util/ContructorCreation\";\n\nconst {\n  createSlice,\n  createAsyncThunk\n} = require(\"@reduxjs/toolkit\");\n/**\r\n * * Có một chút khác biệt khi ta tạo async action,\r\n * * thay vì hồi trước slice mà ta tạo ra sẽ cho ta 2 biến là reducer và actions thì\r\n * * bây h ta ko để actions tổn ngổn vậy nữa mà sẽ export ra thằng cái async action nào cần luônluôn\r\n */\n\n/**\r\n * * tham số đầu sẽ là param mà ta muốn pass vào cái hàm này\r\n * * cái tiếp theo là một thứ mà hàm 'createAsyncThunk' cung cấp cho phép ta đc dispatch những\r\n * * action ở các nơi khác để dùng trong hàm này: thunkAPI.dispatch()\r\n */\n//* Hàm dùng để cập nhật ngưỡng báo cáo\n\n\nexport const updatePercentThreshold = createAsyncThunk(\"PrecentReport/put\", async (params, thunkAPI) => {\n  const result = await JSONPLACEHOLDERApi.editPrecentReport(params);\n  return result;\n}); //* Hàm dùng để load các ngưỡng báo cáo\n\nexport const getAllPercentReport = createAsyncThunk(\"PrecentReport/GetAll\", async (params, thunkAPI) => {\n  const result = await JSONPLACEHOLDERApi.getAllPercent(null);\n  return result;\n});\nconst systemConfig = createSlice({\n  name: \"systemConfig\",\n  initialState: {\n    percentResult: [{\n      id: 1,\n      name: \"Phần trăm số lượng account\",\n      precent: 40\n    }, {\n      id: 2,\n      name: \"Phần trăm số lượng bài Post\",\n      precent: 30\n    }],\n    loading: false,\n    // * trường này dùng để hiển thị pop up loading trong lúc dợi API trả về response\n    success: false,\n    // * trường này dùng để hiển thị pop up success nếu như gọi API thành công\n    fail: false,\n    //* trường này dùng để hiển thị pop up fail nếu như gọi API thất bại\n    error: \"\",\n    selectedId: \"\",\n    percent: \"\",\n    percentNames: [],\n    systemConfigForm: [{\n      row: {\n        cols: [{\n          elementType: variable.select,\n          // Loại input\n          elementConfig: {\n            name: variable.percentName,\n            type: variable.select,\n            labeltext: \"Loại ngưỡng báo cáo\",\n            options: [],\n            value: \"\"\n          }\n        } // {\n        //   elementType: variable.input,\n        //   elementConfig: {\n        //     name: variable.percent,\n        //     type: variable.text,\n        //     labeltext: \"Phần trăm báo cáo\",\n        //     value: \"\",\n        //   },\n        // },\n        ]\n      }\n    }]\n  },\n  reducers: {\n    //   ! Hàm dùng để đưa các lựa chọn về loại percent vào form\n    addPercentReportName: (state, action) => {\n      //* Cái phần commend này là dùng để lấy từ API\n      state.systemConfigForm[0].row.cols[0].elementConfig.options = action.payload;\n      let arra = [];\n      state.state.systemConfigForm[0].row.cols[0].elementConfig.options.map(percent => {\n        arra.push({\n          key: percent.name,\n          value: percent.id\n        });\n      });\n      state.percentNames = arra;\n    },\n    //* Hàm này dùng để lấy ra cái percent đúng với cái ID\n    getPercentById: (state, action) => {\n      state.percentResult.map(item => {\n        if (action.payload == item.id) {\n          state.percent = item.precent;\n        }\n      });\n    }\n  },\n  // ! Với kết quả trả về đều sẽ có 3 trường là meta,data và error, ta viết ở dưới này để coi sẽ phải làm những gì cho từng loại kêt quả\n  extraReducers: {\n    [getAllPercentReport.pending]: state => {\n      state.loading = true;\n    },\n    [getAllPercentReport.rejected]: (state, action) => {\n      state.error = action.error;\n      state.loading = false;\n    },\n    [getAllPercentReport.fulfilled]: (state, action) => {\n      state.percentResult = action.payload;\n      state.loading = false;\n    },\n    [updatePercentThreshold.pending]: state => {\n      state.loading = true;\n    },\n    [updatePercentThreshold.rejected]: (state, action) => {\n      state.error = action.error;\n      state.loading = false;\n    },\n    [updatePercentThreshold.fulfilled]: (state, action) => {\n      state.percentResult = action.payload;\n      state.loading = false;\n    }\n  }\n});\nconst {\n  reducer: systemConfigReducer,\n  actions\n} = systemConfig; //createSlice sẽ trả về cho ta 2 biến là reducer và action\n\nexport const {\n  addPercentReportName,\n  getPercentById\n} = actions;\nexport default systemConfigReducer;","map":{"version":3,"sources":["E:/light-bootstrap-dashboard-react-master/src/redux/SystemConfiguration/SystemConfigurationSlice.jsx"],"names":["variable","JSONPLACEHOLDERApi","createPostData","convertDateToString","createAccountData","createHeader","createSlice","createAsyncThunk","require","updatePercentThreshold","params","thunkAPI","result","editPrecentReport","getAllPercentReport","getAllPercent","systemConfig","name","initialState","percentResult","id","precent","loading","success","fail","error","selectedId","percent","percentNames","systemConfigForm","row","cols","elementType","select","elementConfig","percentName","type","labeltext","options","value","reducers","addPercentReportName","state","action","payload","arra","map","push","key","getPercentById","item","extraReducers","pending","rejected","fulfilled","reducer","systemConfigReducer","actions"],"mappings":"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","sourcesContent":["// import ContractType from \"./contractType\";\r\nimport * as variable from \"../../variables/Variables\";\r\nimport JSONPLACEHOLDERApi from \"api/JSONPLACEHOLDERApi\";\r\nimport {\r\n  createPostData,\r\n  convertDateToString,\r\n  createAccountData,\r\n  createHeader,\r\n} from \"util/ContructorCreation\";\r\nconst { createSlice, createAsyncThunk } = require(\"@reduxjs/toolkit\");\r\n\r\n/**\r\n * * Có một chút khác biệt khi ta tạo async action,\r\n * * thay vì hồi trước slice mà ta tạo ra sẽ cho ta 2 biến là reducer và actions thì\r\n * * bây h ta ko để actions tổn ngổn vậy nữa mà sẽ export ra thằng cái async action nào cần luônluôn\r\n */\r\n\r\n/**\r\n * * tham số đầu sẽ là param mà ta muốn pass vào cái hàm này\r\n * * cái tiếp theo là một thứ mà hàm 'createAsyncThunk' cung cấp cho phép ta đc dispatch những\r\n * * action ở các nơi khác để dùng trong hàm này: thunkAPI.dispatch()\r\n */\r\n\r\n//* Hàm dùng để cập nhật ngưỡng báo cáo\r\nexport const updatePercentThreshold = createAsyncThunk(\r\n  \"PrecentReport/put\",\r\n  async (params, thunkAPI) => {\r\n    const result = await JSONPLACEHOLDERApi.editPrecentReport(params);\r\n    return result;\r\n  }\r\n);\r\n\r\n//* Hàm dùng để load các ngưỡng báo cáo\r\nexport const getAllPercentReport = createAsyncThunk(\r\n  \"PrecentReport/GetAll\",\r\n  async (params, thunkAPI) => {\r\n    const result = await JSONPLACEHOLDERApi.getAllPercent(null);\r\n    return result;\r\n  }\r\n);\r\n\r\nconst systemConfig = createSlice({\r\n  name: \"systemConfig\",\r\n  initialState: {\r\n    percentResult: [\r\n      {\r\n        id: 1,\r\n        name: \"Phần trăm số lượng account\",\r\n        precent: 40,\r\n      },\r\n      {\r\n        id: 2,\r\n        name: \"Phần trăm số lượng bài Post\",\r\n        precent: 30,\r\n      },\r\n    ],\r\n    loading: false, // * trường này dùng để hiển thị pop up loading trong lúc dợi API trả về response\r\n    success: false, // * trường này dùng để hiển thị pop up success nếu như gọi API thành công\r\n    fail: false, //* trường này dùng để hiển thị pop up fail nếu như gọi API thất bại\r\n    error: \"\",\r\n    selectedId: \"\",\r\n    percent: \"\",\r\n    percentNames: [],\r\n    systemConfigForm: [\r\n      {\r\n        row: {\r\n          cols: [\r\n            {\r\n              elementType: variable.select, // Loại input\r\n              elementConfig: {\r\n                name: variable.percentName,\r\n                type: variable.select,\r\n                labeltext: \"Loại ngưỡng báo cáo\",\r\n                options: [],\r\n                value: \"\",\r\n              },\r\n            },\r\n            // {\r\n            //   elementType: variable.input,\r\n            //   elementConfig: {\r\n            //     name: variable.percent,\r\n            //     type: variable.text,\r\n            //     labeltext: \"Phần trăm báo cáo\",\r\n            //     value: \"\",\r\n            //   },\r\n            // },\r\n          ],\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  reducers: {\r\n    //   ! Hàm dùng để đưa các lựa chọn về loại percent vào form\r\n    addPercentReportName: (state, action) => {\r\n      //* Cái phần commend này là dùng để lấy từ API\r\n      state.systemConfigForm[0].row.cols[0].elementConfig.options =action.payload;\r\n      let arra = [];\r\n      state.state.systemConfigForm[0].row.cols[0].elementConfig.options.map(\r\n        (percent) => {\r\n          arra.push({ key: percent.name, value: percent.id });\r\n        }\r\n      );\r\n      state.percentNames = arra;\r\n    },\r\n\r\n    //* Hàm này dùng để lấy ra cái percent đúng với cái ID\r\n    getPercentById: (state, action) => {\r\n      state.percentResult.map((item) => {\r\n        if (action.payload == item.id) {\r\n          state.percent = item.precent;\r\n        }\r\n      });\r\n    },\r\n  },\r\n\r\n  // ! Với kết quả trả về đều sẽ có 3 trường là meta,data và error, ta viết ở dưới này để coi sẽ phải làm những gì cho từng loại kêt quả\r\n  extraReducers: {\r\n    [getAllPercentReport.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [getAllPercentReport.rejected]: (state, action) => {\r\n      state.error = action.error;\r\n      state.loading = false;\r\n    },\r\n    [getAllPercentReport.fulfilled]: (state, action) => {\r\n      state.percentResult = action.payload;\r\n      state.loading = false;\r\n    },\r\n    [updatePercentThreshold.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [updatePercentThreshold.rejected]: (state, action) => {\r\n      state.error = action.error;\r\n      state.loading = false;\r\n    },\r\n    [updatePercentThreshold.fulfilled]: (state, action) => {\r\n      state.percentResult = action.payload;\r\n      state.loading = false;\r\n    },\r\n  },\r\n});\r\n\r\nconst { reducer: systemConfigReducer, actions } = systemConfig; //createSlice sẽ trả về cho ta 2 biến là reducer và action\r\nexport const { addPercentReportName, getPercentById } = actions;\r\nexport default systemConfigReducer;\r\n"]},"metadata":{},"sourceType":"module"}